# ToolAssistedChat
(*serverless.tool_assisted_chat*)

## Overview

### Available Operations

* [complete](#complete) - Tool assisted chat completions
* [stream](#stream) - Stream tool assisted chat completions

## complete

Given a list of messages forming a conversation, the model generates a response. Additionally, the model can utilize built-in tools for tool calls, enhancing its capability to provide more comprehensive and actionable responses.

### Example Usage

```python
from friendli import Friendli
import os

s = Friendli(
    token=os.getenv("FRIENDLI_TOKEN", ""),
)

res = s.serverless.tool_assisted_chat.complete(model="meta-llama-3.1-8b-instruct", messages=[
    {
        "role": "system",
        "content": "You are a helpful assistant.",
    },
    {
        "role": "user",
        "content": "Hello!",
    },
], max_tokens=200, tools=[
    {
        "type": "math:calculator",
    },
])

if res is not None:
    # handle response
    pass

```

### Parameters

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `model`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Code of the model to use. See [available model list](https://friendli.ai/docs/guides/serverless_endpoints/pricing#text-generation-models).                                                                                                                                                                                                                                                                                                                                                                                                   | meta-llama-3.1-8b-instruct                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `messages`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | List[[models.Message](../../models/message.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of messages comprising the conversation so far.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [<br/>{<br/>"role": "system",<br/>"content": "You are a helpful assistant."<br/>},<br/>{<br/>"role": "user",<br/>"content": "What is 3 + 6?"<br/>}<br/>]                                                                                                                                                                                                                                                                                                                                                                                     |
| `x_friendli_team`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *Optional[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | ID of team to run requests as (optional parameter).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `eos_token`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | List[*int*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of endpoint sentence tokens.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `frequency_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Number between -2.0 and 2.0. Positive values penalizes tokens that have been sampled, taking into account their frequency in the preceding text. This penalization diminishes the model's tendency to reproduce identical lines verbatim.                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `max_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The maximum number of tokens to generate. For decoder-only models like GPT, the length of your input tokens plus `max_tokens` should not exceed the model's maximum length (e.g., 2048 for OpenAI GPT-3). For encoder-decoder models like T5 or BlenderBot, `max_tokens` should not exceed the model's maximum output length. This is similar to Hugging Face's [`max_new_tokens`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.max_new_tokens) argument.                  | 200                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `min_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The minimum number of tokens to generate. Default value is 0. This is similar to Hugging Face's [`min_new_tokens`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.generationconfig.min_new_tokens) argument.<br/><br/>**This field is unsupported when `tools` are specified.**<br/>                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `n`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The number of independently generated results for the prompt. Not supported when using beam search. Defaults to 1. This is similar to Hugging Face's [`num_return_sequences`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.num_return_sequences) argument.                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `parallel_tool_calls`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Whether to enable parallel function calling.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `presence_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Number between -2.0 and 2.0. Positive values penalizes tokens that have been sampled at least once in the existing text.                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `repetition_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Penalizes tokens that have already appeared in the generated result (plus the input tokens for decoder-only models). Should be greater than or equal to 1.0 (1.0 means no penalty). See [keskar et al., 2019](https://arxiv.org/abs/1909.05858) for more details. This is similar to Hugging Face's [`repetition_penalty`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.generationconfig.repetition_penalty) argument.                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `response_format`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | [OptionalNullable[models.ResponseFormat]](../../models/responseformat.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The enforced format of the model's output.<br/><br/>Note that the content of the output message may be truncated if it exceeds the `max_tokens`.<br/>You can check this by verifying that the `finish_reason` of the output message is `length`.<br/><br/>***Important***<br/>You must explicitly instruct the model to produce the desired output format using a system prompt or user message (e.g., `You are an API generating a valid JSON as output.`).<br/>Otherwise, the model may result in an unending stream of whitespace or other characters.<br/> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `resume_generation`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Enable to continue text generation even after an error occurs during a tool call.<br/><br/>Note that enabling this option may use more tokens, as the system generates additional content to handle errors gracefully.<br/>However, if the system fails more than 8 times, the generation will stop regardless.<br/><br/>***Tip***<br/>This is useful in scenarios where you want to maintain text generation flow despite errors, such as when generating long-form content.<br/>The user will not be interrupted by tool call issues, ensuring a smoother experience.<br/> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `seed`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | List[*int*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Seed to control random procedure. If nothing is given, random seed is used for sampling, and return the seed along with the generated result. When using the `n` argument, you can pass a list of seed values to control all of the independent generations.                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `stop`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | List[*str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | When one of the stop phrases appears in the generation result, the API will stop generation. The stop phrases are excluded from the result. Defaults to empty list.                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `stream`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Whether to stream generation result. When set true, each token will be sent as [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#event_stream_format) once generated.                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `temperature`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Sampling temperature. Smaller temperature makes the generation result closer to greedy, argmax (i.e., `top_k = 1`) sampling. Defaults to 1.0. This is similar to Hugging Face's [`temperature`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.generationconfig.temperature) argument.                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `timeout_microseconds`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Request timeout. Gives the `HTTP 429 Too Many Requests` response status code. Default behavior is no timeout.                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `tool_choice`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [Optional[models.ServerlessToolAssistedChatCompleteBodyToolChoice]](../../models/serverlesstoolassistedchatcompletebodytoolchoice.md)                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Determines the tool calling behavior of the model.<br/>When set to `none`, the model will bypass tool execution and generate a response directly.<br/>In `auto` mode (the default), the model dynamically decides whether to call a tool or respond with a message.<br/>Alternatively, setting `required` ensures that the model invokes at least one tool before responding to the user.<br/>You can also specify a particular tool by `{"type": "function", "function": {"name": "my_function"}}`.<br/>                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `tools`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | List[[models.ToolAssistedChatTool](../../models/toolassistedchattool.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of tools the model may call.<br/>A maximum of 128 functions is supported.<br/>Use this to provide a list of functions the model may generate JSON inputs for.<br/>For more detailed information about each tool, please refer [here](https://friendli.ai/docs/guides/serverless_endpoints/tools/built_in_tools).<br/><br/>**When `tools` are specified, `min_tokens` field is unsupported.**<br/>                                                                                                                                     | math:calculator                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `top_k`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The number of highest probability tokens to keep for sampling. Numbers between 0 and the vocab size of the model (both inclusive) are allowed. The default value is 0, which means that the API does not apply top-k filtering. This is similar to Hugging Face's [`top_k`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.top_k) argument.                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `top_p`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Tokens comprising the top `top_p` probability mass are kept for sampling. Numbers between 0.0 (exclusive) and 1.0 (inclusive) are allowed. Defaults to 1.0. This is similar to Hugging Face's [`top_p`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.top_p) argument.                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `retries`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Configuration to override the default retry behavior of the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

### Response

**[models.ChatResult](../../models/chatresult.md)**

### Errors

| Error Type      | Status Code     | Content Type    |
| --------------- | --------------- | --------------- |
| models.SDKError | 4XX, 5XX        | \*/\*           |

## stream

Given a list of messages forming a conversation, the model generates a response. Additionally, the model can utilize built-in tools for tool calls, enhancing its capability to provide more comprehensive and actionable responses.

### Example Usage

```python
from friendli import Friendli
import os

s = Friendli(
    token=os.getenv("FRIENDLI_TOKEN", ""),
)

res = s.serverless.tool_assisted_chat.stream(model="meta-llama-3.1-8b-instruct", messages=[
    {
        "role": "system",
        "content": "You are a helpful assistant.",
    },
    {
        "role": "user",
        "content": "Hello!",
    },
], max_tokens=200, tools=[
    {
        "type": "math:calculator",
    },
])

if res is not None:
    for event in res:
        # handle event
        print(event, flush=True)

```

### Parameters

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `model`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Code of the model to use. See [available model list](https://friendli.ai/docs/guides/serverless_endpoints/pricing#text-generation-models).                                                                                                                                                                                                                                                                                                                                                                                                   | meta-llama-3.1-8b-instruct                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `messages`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | List[[models.Message](../../models/message.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of messages comprising the conversation so far.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [<br/>{<br/>"role": "system",<br/>"content": "You are a helpful assistant."<br/>},<br/>{<br/>"role": "user",<br/>"content": "What is 3 + 6?"<br/>}<br/>]                                                                                                                                                                                                                                                                                                                                                                                     |
| `x_friendli_team`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *Optional[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | ID of team to run requests as (optional parameter).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `eos_token`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | List[*int*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of endpoint sentence tokens.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `frequency_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Number between -2.0 and 2.0. Positive values penalizes tokens that have been sampled, taking into account their frequency in the preceding text. This penalization diminishes the model's tendency to reproduce identical lines verbatim.                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `max_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The maximum number of tokens to generate. For decoder-only models like GPT, the length of your input tokens plus `max_tokens` should not exceed the model's maximum length (e.g., 2048 for OpenAI GPT-3). For encoder-decoder models like T5 or BlenderBot, `max_tokens` should not exceed the model's maximum output length. This is similar to Hugging Face's [`max_new_tokens`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.max_new_tokens) argument.                  | 200                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `min_tokens`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The minimum number of tokens to generate. Default value is 0. This is similar to Hugging Face's [`min_new_tokens`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.generationconfig.min_new_tokens) argument.<br/><br/>**This field is unsupported when `tools` are specified.**<br/>                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `n`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The number of independently generated results for the prompt. Not supported when using beam search. Defaults to 1. This is similar to Hugging Face's [`num_return_sequences`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.num_return_sequences) argument.                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `parallel_tool_calls`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Whether to enable parallel function calling.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `presence_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Number between -2.0 and 2.0. Positive values penalizes tokens that have been sampled at least once in the existing text.                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `repetition_penalty`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Penalizes tokens that have already appeared in the generated result (plus the input tokens for decoder-only models). Should be greater than or equal to 1.0 (1.0 means no penalty). See [keskar et al., 2019](https://arxiv.org/abs/1909.05858) for more details. This is similar to Hugging Face's [`repetition_penalty`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.generationconfig.repetition_penalty) argument.                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `response_format`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | [OptionalNullable[models.ResponseFormat]](../../models/responseformat.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The enforced format of the model's output.<br/><br/>Note that the content of the output message may be truncated if it exceeds the `max_tokens`.<br/>You can check this by verifying that the `finish_reason` of the output message is `length`.<br/><br/>***Important***<br/>You must explicitly instruct the model to produce the desired output format using a system prompt or user message (e.g., `You are an API generating a valid JSON as output.`).<br/>Otherwise, the model may result in an unending stream of whitespace or other characters.<br/> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `resume_generation`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Enable to continue text generation even after an error occurs during a tool call.<br/><br/>Note that enabling this option may use more tokens, as the system generates additional content to handle errors gracefully.<br/>However, if the system fails more than 8 times, the generation will stop regardless.<br/><br/>***Tip***<br/>This is useful in scenarios where you want to maintain text generation flow despite errors, such as when generating long-form content.<br/>The user will not be interrupted by tool call issues, ensuring a smoother experience.<br/> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `seed`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | List[*int*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Seed to control random procedure. If nothing is given, random seed is used for sampling, and return the seed along with the generated result. When using the `n` argument, you can pass a list of seed values to control all of the independent generations.                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `stop`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | List[*str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | When one of the stop phrases appears in the generation result, the API will stop generation. The stop phrases are excluded from the result. Defaults to empty list.                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `stream`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Whether to stream generation result. When set true, each token will be sent as [server-sent events](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#event_stream_format) once generated.                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `temperature`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Sampling temperature. Smaller temperature makes the generation result closer to greedy, argmax (i.e., `top_k = 1`) sampling. Defaults to 1.0. This is similar to Hugging Face's [`temperature`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.generationconfig.temperature) argument.                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `timeout_microseconds`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Request timeout. Gives the `HTTP 429 Too Many Requests` response status code. Default behavior is no timeout.                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `tool_choice`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [Optional[models.ServerlessToolAssistedChatStreamBodyToolChoice]](../../models/serverlesstoolassistedchatstreambodytoolchoice.md)                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Determines the tool calling behavior of the model.<br/>When set to `none`, the model will bypass tool execution and generate a response directly.<br/>In `auto` mode (the default), the model dynamically decides whether to call a tool or respond with a message.<br/>Alternatively, setting `required` ensures that the model invokes at least one tool before responding to the user.<br/>You can also specify a particular tool by `{"type": "function", "function": {"name": "my_function"}}`.<br/>                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `tools`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | List[[models.ToolAssistedChatTool](../../models/toolassistedchattool.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of tools the model may call.<br/>A maximum of 128 functions is supported.<br/>Use this to provide a list of functions the model may generate JSON inputs for.<br/>For more detailed information about each tool, please refer [here](https://friendli.ai/docs/guides/serverless_endpoints/tools/built_in_tools).<br/><br/>**When `tools` are specified, `min_tokens` field is unsupported.**<br/>                                                                                                                                     | math:calculator                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `top_k`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *OptionalNullable[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The number of highest probability tokens to keep for sampling. Numbers between 0 and the vocab size of the model (both inclusive) are allowed. The default value is 0, which means that the API does not apply top-k filtering. This is similar to Hugging Face's [`top_k`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.top_k) argument.                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `top_p`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *OptionalNullable[float]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Tokens comprising the top `top_p` probability mass are kept for sampling. Numbers between 0.0 (exclusive) and 1.0 (inclusive) are allowed. Defaults to 1.0. This is similar to Hugging Face's [`top_p`](https://huggingface.co/docs/transformers/v4.26.0/en/main_classes/text_generation#transformers.GenerationConfig.top_p) argument.                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `retries`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Configuration to override the default retry behavior of the client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

### Response

**[Union[Generator[models.StreamedToolAssistedChatResult, None, None], AsyncGenerator[models.StreamedToolAssistedChatResult, None]]](../../models/.md)**

### Errors

| Error Type      | Status Code     | Content Type    |
| --------------- | --------------- | --------------- |
| models.SDKError | 4XX, 5XX        | \*/\*           |